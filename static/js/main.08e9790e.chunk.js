(this["webpackJsonpbookshelf-app"]=this["webpackJsonpbookshelf-app"]||[]).push([[0],{125:function(e,t,a){e.exports=a(177)},130:function(e,t,a){},131:function(e,t){},176:function(e,t,a){},177:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"books",(function(){return we}));var o=a(0),r=a.n(o),l=a(35),c=a.n(l),i=(a(130),a(18)),u=(a(131),a(179)),m=a(180),s=a(181),d=a(182),E=a(183),p=a(184),f=a(185),h=a(186),b={left:[{title:"Home Page",to:"/react-bootcamp-bookshelf"},{title:"Read Books",to:"/read-books"}],right:[{title:"+ Add Book",to:"/add-book"}]},g=a(29),v=function(){var e=Object(o.useState)(!1),t=Object(i.a)(e,2),a=t[0],n=t[1];return r.a.createElement("div",null,r.a.createElement(u.a,{color:"dark",dark:!0,expand:"md"},r.a.createElement(m.a,{tag:g.b,to:"/react-bootcamp-bookshelf"},"Bookshelf"),r.a.createElement(s.a,{onClick:function(){return n(!a)}}),r.a.createElement(d.a,{isOpen:a,navbar:!0},r.a.createElement(E.a,{className:"mr-auto",navbar:!0},b.left.map((function(e){return r.a.createElement(p.a,null,r.a.createElement(f.a,{tag:g.b,to:e.to},e.title))}))),b.right.map((function(e){return r.a.createElement(h.a,null,r.a.createElement(f.a,{tag:g.b,to:e.to},e.title))})))))},O=a(30),k=a(79),y=a(38),j=a(41),S=a.n(j),w=["JavaScript","HTML","CSS","Python","Java"],C=[1,2,3,4,5],B=["Not Read","Read"],x="https://5ebaac0e3f97140016992b17.mockapi.io/",T=a(187),R=a(188),P=a(189),_=a(190),A=a(191),D=a(192),N={getBooks:function(){return function(e){e({type:"LOAD_BOOKS"}),S.a.get("".concat(x,"/books")).then((function(t){e({type:"SET_BOOKS",payload:t.data})})).catch((function(e){console.log(e)}))}}},K=Object(y.b)((function(e){return{books:e.books.data,loading:e.books.loading,filter:e.books.filter,searchTerm:e.books.searchTerm,sortTerm:e.books.sortTerm}}),N)((function(e){var t=Object(o.useState)(1),a=Object(i.a)(t,2),n=a[0],l=a[1],c=Object(o.useState)("cards"),u=Object(i.a)(c,2),m=u[0],s=u[1];if(Object(o.useEffect)((function(){e.getBooks()}),[]),e.loading)return r.a.createElement("h1",null,"Books are loading...");var d=e.books,E=[];E=e.filter?d.filter((function(t){return t.category===e.filter})):d,e.searchTerm&&(E=E.filter((function(t){return t.title.toLowerCase().indexOf(e.searchTerm.toLowerCase())>-1||t.author.toLowerCase().indexOf(e.searchTerm.toLowerCase())>-1})));var p=[],f="";f=(p=e.sortTerm?Object(k.a)(E).sort((function(t,a){return parseInt(a[e.sortTerm])-parseInt(t[e.sortTerm])})):E).length<1?r.a.createElement("h2",null,"NO BOOK HERE"):r.a.createElement(de,{view:m,items:p.slice(4*(n-1),4*n)}),console.log("pages: ",Math.ceil(p.length/4));var h=new Array(Math.ceil(p.length/4));return h.fill(null),r.a.createElement("div",null,r.a.createElement(ke,null),r.a.createElement(T.a,null,r.a.createElement("div",null,r.a.createElement(R.a,null,r.a.createElement(P.a,{color:"primary",onClick:function(){s("cards")}},"Cards View"),r.a.createElement(P.a,{color:"primary",onClick:function(){s("list")}},"List View"))),r.a.createElement("div",{className:"books-holder"},f),r.a.createElement(_.a,{"aria-label":"Page navigation example"},r.a.createElement(A.a,{disabled:1===n},r.a.createElement(D.a,{first:!0,href:"#",onClick:function(e){e.preventDefault(),l(1)}})),r.a.createElement(A.a,{disabled:1===n},r.a.createElement(D.a,{previous:!0,href:"#",onClick:function(e){e.preventDefault(),l(n-1)}})),h.map((function(e,t){var a=t+1;return r.a.createElement(A.a,{active:a===n},r.a.createElement(D.a,{href:"#",onClick:function(e){e.preventDefault(),l(a)}},a))})),r.a.createElement(A.a,{disabled:n===h.length},r.a.createElement(D.a,{next:!0,href:"#",onClick:function(e){e.preventDefault(),l(n-1)}})),r.a.createElement(A.a,{disabled:n===h.length},r.a.createElement(D.a,{last:!0,href:"#",onClick:function(){l(h.length)}})))))})),L=a(193),U=a(194),F=function(e){var t=Object(o.useState)(""),a=Object(i.a)(t,2),n=a[0],l=a[1];Object(o.useEffect)((function(){var t=e.routerProps.match.params.id;t&&S.a.get("".concat(x,"/books/").concat(t)).then((function(e){console.log("result: ",e),l(e.data)}))}),[]);var c=e.componentProps.isEdit,u=e.routerProps.match.params.id;return console.log(u),r.a.createElement(T.a,null,r.a.createElement(L.a,null,r.a.createElement(U.a,{xs:12},c?r.a.createElement("h3",null,"Edit Book"):r.a.createElement("h3",null,"Add a new book")),r.a.createElement(U.a,null,r.a.createElement(Z,{isEdit:c,id:u,book:n}))))},I=[{title:"Home Page",path:"/react-bootcamp-bookshelf",exact:!0,componentProps:{},component:K},{title:"Add Book",path:"/add-book",exact:!1,componentProps:{},component:F},{title:"Edit Book",path:"/edit-book/:id",exact:!1,componentProps:{isEdit:!0},component:F},{title:"Book Details",path:"/book-details/:id",exact:!1,componentProps:{},component:function(e){var t=Object(o.useState)(""),a=Object(i.a)(t,2),n=a[0],l=a[1];Object(o.useEffect)((function(){var t=e.routerProps.match.params.id;t&&S.a.get("".concat(x,"/books/").concat(t)).then((function(e){console.log("result: ",e),l(e.data)}))}),[]),console.log(e);var c=e.routerProps.match.params.id;return console.log("s",c),n?r.a.createElement("div",null,r.a.createElement(ye,{id:c,book:n})):r.a.createElement("h2",null,c," books not found!")}}],H=function(e){Object(o.useEffect)((function(){var t=e.title;document.title=t}),[]);var t=e.children;return r.a.createElement("div",null,r.a.createElement(t,{routerProps:e.routerProps,componentProps:e.componentProps}))},M=function(){return r.a.createElement("div",null,r.a.createElement(O.c,null,I.map((function(e){return r.a.createElement(O.a,{path:e.path,exact:e.exact,component:function(t){var a=e.component;return r.a.createElement(H,{title:e.title,routerProps:t,componentProps:e.componentProps},a)}})}))))},J=a(14),q=a(195),V=a(196),G=a(197),W=a(198),X=a(199),z=a(124),Y=a(69),$=Y.a().shape({title:Y.b().required("Title is a required field"),author:Y.b().required("Author is a required field"),review:Y.b().min(30,"You can't enter less than 30 characters")}),Q={addBook:function(e,t){return function(a){S.a.post("".concat(x,"/books"),e).then((function(e){console.log(e.data),a({type:"ADD_BOOK",payload:e.data}),t.push("/react-bootcamp-bookshelf")})).catch((function(e){console.log(e)}))}},editBook:function(e,t,a){return function(n){S.a.put("".concat(x,"/books/").concat(a),e).then((function(e){n({type:"UPDATE_BOOKS",payload:e.data}),t.push("/react-bootcamp-bookshelf")})).catch((function(e){console.log(e)}))}}},Z=Object(O.f)(Object(y.b)(null,Q)((function(e){console.log(e);var t={title:"",author:"",category:"JavaScript",description:"",rating:"5",imageUrl:"",status:"Not Read",review:"",goodReads:""};return e.isEdit&&e.book&&(t=Object(J.a)({},e.book)),r.a.createElement("div",null,r.a.createElement(z.a,{initialValues:t,validationSchema:$,onSubmit:function(t){e.isEdit?e.editBook(t,e.history,e.id):e.addBook(t,e.history)},enableReinitialize:!0},(function(t){var a=t.values,n=t.errors,o=(t.touched,t.handleChange),l=(t.handleBlur,t.handleSubmit);t.isSubmitting;return r.a.createElement(q.a,{onSubmit:l},r.a.createElement(V.a,null,r.a.createElement(G.a,{for:"title"},"Title"),r.a.createElement(W.a,{type:"text",name:"title",id:"title",placeholder:"Name of the book",value:a.title,onChange:o,invalid:n.title}),n.title&&r.a.createElement(X.a,null,n.title)),r.a.createElement(V.a,null,r.a.createElement(G.a,{for:"author"},"Author"),r.a.createElement(W.a,{type:"text",name:"author",id:"author",placeholder:"author of the book",value:a.author,onChange:o,invalid:n.author}),n.author&&r.a.createElement(X.a,null,n.author)),r.a.createElement(V.a,null,r.a.createElement(G.a,{for:"imageUrl"},"Image URL"),r.a.createElement(W.a,{type:"url",name:"imageUrl",id:"imageUrl",placeholder:"Image of the book",value:a.imageUrl,onChange:o})),r.a.createElement(V.a,null,r.a.createElement(G.a,{for:"exampleSelect"},"Category"),r.a.createElement(W.a,{type:"select",name:"category",id:"category",value:a.category,onChange:o},w.map((function(e){return r.a.createElement("option",null,e)})))),r.a.createElement(V.a,null,r.a.createElement(G.a,{for:"review"},"Review"),r.a.createElement(W.a,{type:"textarea",name:"review",id:"review",value:a.review,onChange:o,invalid:n.review}),n.review&&r.a.createElement(X.a,null,n.review)),r.a.createElement(V.a,null,r.a.createElement(G.a,{for:""},"Description"),r.a.createElement(W.a,{type:"textarea",name:"description",id:"description",value:a.description,onChange:o})),r.a.createElement(V.a,null,r.a.createElement(G.a,{for:"goodReads"},"Good Reads"),r.a.createElement(W.a,{type:"url",name:"goodReads",id:"goodReads",placeholder:"Url for goodReads",value:a.goodReads,onChange:o})),r.a.createElement(V.a,null,r.a.createElement(G.a,{for:"exampleSelect"},"Rating"),r.a.createElement(W.a,{type:"select",name:"rating",id:"rating",value:a.rating,onChange:o},C.map((function(e){return r.a.createElement("option",null,e)})))),r.a.createElement(V.a,null,r.a.createElement(G.a,{for:"exampleSelect"},"Status"),r.a.createElement(W.a,{type:"select",name:"status",id:"status",value:a.status,onChange:o},B.map((function(e){return r.a.createElement("option",null,e)})))),e.isEdit?r.a.createElement(P.a,{color:"primary"},"Edit Book"):r.a.createElement(P.a,{color:"primary"},"Add Book"))})))}))),ee=a(201),te=a(202),ae=a(203),ne=a(208),oe=a(204),re=a(205),le=a(66),ce=a(67),ie=a(200);function ue(){var e=Object(le.a)(["\n    margin-bottom:25px;\n\n    height: 500px;        \n        .card-img-top {\n                height:250px ;\n            \n    }\n"]);return ue=function(){return e},e}var me=Object(ce.a)(ie.a)(ue()),se=function(e){var t=e.imageUrl,a=e.title,n=e.rating,l=e.id,c=e.review,u=e.goodReads,m=e.randomId;Object(o.useEffect)((function(){console.log(m)}),[m]),Object(o.useEffect)((function(){return function(){console.log("Components are going")}}),[]),console.log(u);var s=Object(o.useState)(!1),d=Object(i.a)(s,2),E=d[0],p=d[1];return r.a.createElement(me,null,r.a.createElement(ee.a,{top:!0,width:"100%",src:t,alt:a}),r.a.createElement(te.a,null,r.a.createElement(ae.a,null,r.a.createElement("strong",null,"".concat(n," / 5"))),r.a.createElement(ae.a,null,a),r.a.createElement(P.a,{id:"popover".concat(l),type:"button"},"Review"),r.a.createElement(ne.a,{placement:"bottom",isOpen:E,target:"popover".concat(l),toggle:function(){return p(!E)}},r.a.createElement(oe.a,null,c||"No review for this book")),r.a.createElement("br",null),r.a.createElement(re.a,null,r.a.createElement(g.b,{to:"/book-details/".concat(l)},"Details")),r.a.createElement(re.a,null,r.a.createElement(g.b,{to:"/edit-book/".concat(l)},"Edit Book")),r.a.createElement("br",null),r.a.createElement(re.a,null,u&&r.a.createElement("a",{href:"".concat(u),target:"_blank",rel:"noopener noreferrer"},"Good Reads"))))},de=function(e){var t=Object(o.useState)(1),a=Object(i.a)(t,2),n=a[0],l=a[1];return r.a.createElement(L.a,null,e.items.map((function(t){return r.a.createElement(U.a,{xs:"cards"===e.view?6:12,md:"cards"===e.view?4:12,lg:"cards"===e.view?3:12,onClick:function(){l(Math.random())}},r.a.createElement(se,Object.assign({id:t.id},t,{randomId:n})))})))},Ee=a(207),pe=a(122),fe=a(206);function he(){var e=Object(le.a)(["\ndisplay: inline-flex;\nwidth: 50%\n"]);return he=function(){return e},e}function be(){var e=Object(le.a)(["\n    margin-left:15px;\n    color: ",";\n    cursor: pointer;\n"]);return be=function(){return e},e}var ge=Object(ce.a)(h.a)(be(),(function(e){return e.active?"#FF8247":"#035491"})),ve=Object(ce.a)(fe.a)(he()),Oe={changeFilter:function(e){return function(t){t({type:"SET_FILTER",payload:e})}},search:function(e){return function(t){t({type:"SEARCH_BOOKS",payload:e})}},sort:function(e){return function(t){t({type:"SORT_BOOKS",payload:e})}}},ke=Object(y.b)((function(e){return{activeFilter:e.books.filter}}),Oe)((function(e){return r.a.createElement("div",null,r.a.createElement(T.a,{fluid:!0,className:"bg-white",style:{padding:"15px"}},r.a.createElement(L.a,null,r.a.createElement(U.a,{xs:6},r.a.createElement(E.a,null,r.a.createElement(ge,null," ",r.a.createElement("strong",null,"Categories:")," "),r.a.createElement(ge,{active:!e.activeFilter,onClick:function(){e.changeFilter("")}}," All "),w.map((function(t){return r.a.createElement(ge,{active:e.activeFilter===t,onClick:function(){e.changeFilter(t)}},t)})))),r.a.createElement(U.a,{xs:6},r.a.createElement(ve,null,r.a.createElement(Ee.a,{addonType:"prepend"},r.a.createElement(pe.a,null,"Search")),r.a.createElement(W.a,{placeholder:"by Book or Author",onChange:function(t){e.search(t.target.value)}})),r.a.createElement(ve,{className:"header-input"},r.a.createElement(W.a,{type:"select",name:"select",id:"exampleSelect",onChange:function(t){e.sort(t.target.value)}},r.a.createElement("option",{value:""},"No Sort"),r.a.createElement("option",{value:"rating"},"Sort by Rating")))))))})),ye=function(e){console.log(e);var t=e.book,a=t.imageUrl,n=t.title,o=t.author,l=t.description,c=t.review,i=t.rating,u=t.goodReads;return r.a.createElement("div",{className:"book-photo"},r.a.createElement("img",{src:a,alt:n,className:"photo"}),r.a.createElement("div",null,r.a.createElement("h1",null,n),r.a.createElement("h3",null,i,"/5"),r.a.createElement("p",{className:"author"},o),r.a.createElement("p",{className:"description"},l),r.a.createElement("p",{className:"review"},c),u&&r.a.createElement("a",{href:"".concat(u),target:"_blank",rel:"noopener noreferrer"},"Good Reads")))};var je=function(){return r.a.createElement("div",null,r.a.createElement(v,null),r.a.createElement(M,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(175),a(176);var Se={data:[],loading:!1,filter:"",searchTerm:"",sortTerm:""},we=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_BOOK":return Object(J.a)(Object(J.a)({},e),{},{data:[].concat(Object(k.a)(e.data),[t.payload])});case"SET_BOOKS":return Object(J.a)(Object(J.a)({},e),{},{data:t.payload,loading:!1});case"LOAD_BOOKS":return Object(J.a)(Object(J.a)({},e),{},{loading:!0});case"SET_FILTER":return Object(J.a)(Object(J.a)({},e),{},{filter:t.payload});case"SEARCH_BOOKS":return Object(J.a)(Object(J.a)({},e),{},{searchTerm:t.payload});case"SORT_BOOKS":return Object(J.a)(Object(J.a)({},e),{},{sortTerm:t.payload});case"UPDATE_BOOKS":return Object(J.a)(Object(J.a)({},e),{},{data:e.data.map((function(e){return e.id===t.payload.id?t.payload:e}))});default:return e}},Ce=a(49),Be=a(123),xe=Object(Ce.c)(n),Te=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Ce.d,Re=Object(Ce.e)(xe,Te(Object(Ce.a)(Be.a)));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(g.a,null,r.a.createElement(y.a,{store:Re},r.a.createElement(je,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[125,1,2]]]);
//# sourceMappingURL=main.08e9790e.chunk.js.map